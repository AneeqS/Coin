{"ast":null,"code":"import _classCallCheck from \"/Users/AneeqShah/Desktop/temp/Coin/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/AneeqShah/Desktop/temp/Coin/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/AneeqShah/Desktop/temp/Coin/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/AneeqShah/Desktop/temp/Coin/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/AneeqShah/Desktop/temp/Coin/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/AneeqShah/Desktop/temp/Coin/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/AneeqShah/Desktop/temp/Coin/src/components/common/Search.js\";\n\n/**\n * Created by AneeqShah on 2/27/19.\n */\nimport React from 'react';\nimport Loading from './Loading';\nimport { API_URL } from '../../config';\nimport { handleResponse } from '../../helpers';\nimport './Search.css';\n\nvar Search =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Search, _React$Component);\n\n  function Search() {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this));\n    _this.state = {\n      searchResult: [],\n      searchQuery: '',\n      loading: false\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      var _this2 = this;\n\n      var searchQuery = event.target.value;\n      this.setState({\n        searchQuery: searchQuery\n      });\n\n      if (!searchQuery) {\n        return '';\n      }\n\n      this.setState({\n        loading: true\n      });\n      fetch(\"\".concat(API_URL, \"/autocomplete/?searchQuery=\").concat(searchQuery)).then(handleResponse).then(function (result) {\n        _this2.setState({\n          loading: false,\n          searchResult: result\n        });\n      }).catch(function (error) {});\n    }\n  }, {\n    key: \"renderSearchResult\",\n    value: function renderSearchResult() {\n      var _this$state = this.state,\n          searchResult = _this$state.searchResult,\n          searchQuery = _this$state.searchQuery;\n\n      if (!searchQuery) {\n        return '';\n      }\n\n      if (searchResult.length > 0) {\n        return React.createElement(\"div\", {\n          className: \"Search-result-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, searchResult.map(function (result) {\n          return React.createElement(\"div\", {\n            key: result.id,\n            className: \"Search-result\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73\n            },\n            __self: this\n          }, result.name, \" (\", result.symbol, \")\");\n        }));\n      }\n\n      return React.createElement(\"div\", {\n        className: \"Search-result-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"Search-no-result\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"No Results found.\"));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var loading = this.state.loading;\n      return React.createElement(\"div\", {\n        className: \"Search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"Search-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        className: \"Search-input\",\n        type: \"text\",\n        placeholder: \"Currency Name\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), loading && React.createElement(\"div\", {\n        className: \"Search-loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(Loading, {\n        width: \"12px\",\n        height: \"12px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      })), this.renderSearchResult(), \";\");\n    }\n  }]);\n\n  return Search;\n}(React.Component);\n\nexport default Search;","map":{"version":3,"sources":["/Users/AneeqShah/Desktop/temp/Coin/src/components/common/Search.js"],"names":["React","Loading","API_URL","handleResponse","Search","state","searchResult","searchQuery","loading","handleChange","bind","event","target","value","setState","fetch","then","result","catch","error","length","map","id","name","symbol","renderSearchResult","Component"],"mappings":"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","sourcesContent":["/**\n * Created by AneeqShah on 2/27/19.\n */\n\nimport React from 'react';\nimport Loading from './Loading';\nimport {API_URL} from '../../config';\nimport {handleResponse} from '../../helpers';\nimport './Search.css';\n\n\nclass Search extends React.Component {\n\n    constructor(){\n\n        super();\n        this.state={\n            searchResult: [],\n            searchQuery: '',\n            loading: false,\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n\n    }\n\n\n    handleChange(event){\n\n        const searchQuery = event.target.value;\n\n        this.setState({searchQuery});\n\n        if(!searchQuery){\n            return '';\n        }\n\n        this.setState({loading: true});\n\n\n        fetch(`${API_URL}/autocomplete/?searchQuery=${searchQuery}`)\n            .then(handleResponse)\n            .then((result) => {\n\n                this.setState({\n                    loading: false,\n                    searchResult: result,\n                });\n\n            })\n            .catch((error) => {\n\n            })\n\n    }\n\n\n    renderSearchResult(){\n\n        const {searchResult, searchQuery} = this.state;\n\n\n        if(!searchQuery){\n            return  '';\n        }\n\n        \n\n        if(searchResult.length > 0){\n            return(\n                <div className=\"Search-result-container\">\n                    {searchResult.map(result => (\n                        <div\n                            key={result.id}\n                            className=\"Search-result\"\n                        >\n                            {result.name} ({result.symbol})\n\n                        </div>\n                    ))}\n                </div>\n            );\n        }\n\n        return(\n            <div className=\"Search-result-container\">\n                <div className=\"Search-no-result\">No Results found.</div>\n            </div>\n        );\n\n\n    }\n\n    render(){\n\n        const {loading} = this.state;\n\n        return(\n            <div className=\"Search\">\n                <span className=\"Search-icon\"/>\n                <input\n                    className=\"Search-input\"\n                    type=\"text\"\n                    placeholder=\"Currency Name\"\n                    onChange={this.handleChange}\n                />\n\n\n                {loading &&\n                    <div className=\"Search-loading\">\n                        <Loading\n                            width=\"12px\"\n                            height=\"12px\"\n                        />\n                    </div>\n                }\n\n                {this.renderSearchResult()};\n\n            </div>\n        );\n    }\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}