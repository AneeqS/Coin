{"ast":null,"code":"import _classCallCheck from \"/Users/AneeqShah/Desktop/temp/Coin/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/AneeqShah/Desktop/temp/Coin/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/AneeqShah/Desktop/temp/Coin/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/AneeqShah/Desktop/temp/Coin/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/AneeqShah/Desktop/temp/Coin/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/AneeqShah/Desktop/temp/Coin/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/AneeqShah/Desktop/temp/Coin/src/components/common/Search.js\";\n\n/**\n * Created by AneeqShah on 2/27/19.\n */\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Loading from './Loading';\nimport { API_URL } from '../../config';\nimport { handleResponse } from '../../helpers';\nimport './Search.css';\n\nvar Search =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Search, _React$Component);\n\n  function Search() {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this));\n    _this.state = {\n      searchResult: [],\n      searchQuery: '',\n      loading: false\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleRedirect = _this.handleRedirect.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      var _this2 = this;\n\n      var searchQuery = event.target.value;\n      this.setState({\n        searchQuery: searchQuery\n      });\n\n      if (!searchQuery) {\n        return '';\n      }\n\n      this.setState({\n        loading: true\n      });\n      fetch(\"\".concat(API_URL, \"/autocomplete/?searchQuery=\").concat(searchQuery)).then(handleResponse).then(function (result) {\n        _this2.setState({\n          loading: false,\n          searchResult: result\n        });\n      }).catch(function (error) {});\n    }\n  }, {\n    key: \"handleRedirect\",\n    value: function handleRedirect() {\n      this.setState = {\n        searchResult: [],\n        searchQuery: '',\n        loading: false\n      };\n    }\n  }, {\n    key: \"renderSearchResult\",\n    value: function renderSearchResult() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          searchResult = _this$state.searchResult,\n          searchQuery = _this$state.searchQuery,\n          loading = _this$state.loading;\n\n      if (!searchQuery) {\n        return '';\n      }\n\n      if (searchResult.length > 0) {\n        return React.createElement(\"div\", {\n          className: \"Search-result-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, searchResult.map(function (result) {\n          return React.createElement(\"div\", {\n            key: result.id,\n            className: \"Search-result\",\n            onClick: function onClick() {\n              return _this3.handleRedirect(result.id);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 86\n            },\n            __self: this\n          }, result.name, \" (\", result.symbol, \")\");\n        }));\n      }\n\n      if (!loading) {\n        return React.createElement(\"div\", {\n          className: \"Search-result-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"Search-no-result\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, \"No Results found.\"));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var loading = this.state.loading;\n      return React.createElement(\"div\", {\n        className: \"Search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"Search-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        className: \"Search-input\",\n        type: \"text\",\n        placeholder: \"Currency Name\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), loading && React.createElement(\"div\", {\n        className: \"Search-loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(Loading, {\n        width: \"12px\",\n        height: \"12px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      })), this.renderSearchResult(), \";\");\n    }\n  }]);\n\n  return Search;\n}(React.Component);\n\nexport default withRouter(Search);","map":{"version":3,"sources":["/Users/AneeqShah/Desktop/temp/Coin/src/components/common/Search.js"],"names":["React","withRouter","Loading","API_URL","handleResponse","Search","state","searchResult","searchQuery","loading","handleChange","bind","handleRedirect","event","target","value","setState","fetch","then","result","catch","error","length","map","id","name","symbol","renderSearchResult","Component"],"mappings":"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","sourcesContent":["/**\n * Created by AneeqShah on 2/27/19.\n */\n\nimport React from 'react';\nimport {withRouter} from 'react-router-dom';\nimport Loading from './Loading';\nimport {API_URL} from '../../config';\nimport {handleResponse} from '../../helpers';\nimport './Search.css';\n\n\nclass Search extends React.Component {\n\n    constructor(){\n\n        super();\n        this.state={\n            searchResult: [],\n            searchQuery: '',\n            loading: false,\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleRedirect = this.handleRedirect.bind(this);\n\n\n    }\n\n\n    handleChange(event){\n\n        const searchQuery = event.target.value;\n\n        this.setState({searchQuery});\n\n        if(!searchQuery){\n            return '';\n        }\n\n        this.setState({loading: true});\n\n\n        fetch(`${API_URL}/autocomplete/?searchQuery=${searchQuery}`)\n            .then(handleResponse)\n            .then((result) => {\n\n                this.setState({\n                    loading: false,\n                    searchResult: result,\n                });\n\n            })\n            .catch((error) => {\n\n            })\n\n    }\n\n\n    handleRedirect(){\n\n        this.setState = {\n            searchResult: [],\n            searchQuery: '',\n            loading: false,\n        };\n    }\n\n\n    renderSearchResult(){\n\n        const {searchResult, searchQuery, loading} = this.state;\n\n\n        if(!searchQuery){\n            return  '';\n        }\n\n\n\n        if(searchResult.length > 0){\n            return(\n                <div className=\"Search-result-container\">\n                    {searchResult.map(result => (\n                        <div\n                            key={result.id}\n                            className=\"Search-result\"\n                            onClick={() => this.handleRedirect(result.id)}\n                        >\n                            {result.name} ({result.symbol})\n\n                        </div>\n                    ))}\n                </div>\n            );\n        }\n\n        if(!loading){\n\n            return(\n                <div className=\"Search-result-container\">\n                    <div className=\"Search-no-result\">No Results found.</div>\n                </div>\n            );\n\n        }\n\n\n\n    }\n\n    render(){\n\n        const {loading} = this.state;\n\n        return(\n            <div className=\"Search\">\n                <span className=\"Search-icon\"/>\n                <input\n                    className=\"Search-input\"\n                    type=\"text\"\n                    placeholder=\"Currency Name\"\n                    onChange={this.handleChange}\n                />\n\n\n                {loading &&\n                    <div className=\"Search-loading\">\n                        <Loading\n                            width=\"12px\"\n                            height=\"12px\"\n                        />\n                    </div>\n                }\n\n                {this.renderSearchResult()};\n\n            </div>\n        );\n    }\n}\n\nexport default withRouter(Search);"]},"metadata":{},"sourceType":"module"}